<!DOCTYPE html>
<html lang="ta">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="pageTitle">ро╡рпЗро▓рпИ роиро┐ро▓рпИ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">

    <header class="bg-white shadow-md">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex justify-between items-center">
            <a href="user-index.html" class="text-3xl font-extrabold text-indigo-600 tracking-tight">Vorliyo</a>
            <a href="user-dashboard.html" class="text-gray-600 hover:text-indigo-600 flex items-center">
                <span data-lucide="layout-dashboard" class="w-5 h-5 mr-1"></span> роЯро╛ро╖рпНрокрпЛро░рпНроЯрпБ
            </a>
        </div>
    </header>

    <main class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="bg-white p-8 rounded-xl shadow-2xl border-t-4 border-indigo-500">
            <h1 class="text-3xl font-extrabold text-gray-900 mb-6 flex items-center">
                <span data-lucide="bell" class="w-7 h-7 mr-2 text-indigo-500"></span> ро╡рпЗро▓рпИ роиро┐ро▓рпИ роХрогрпНроХро╛рогро┐рокрпНрокрпБ
            </h1>
            
            <p id="loadingMessage" class="text-center text-lg text-indigo-500 font-semibold mb-4">ро╡рпЗро▓рпИ ро╡ро┐ро╡ро░роЩрпНроХро│рпИрокрпН рокрпЖро▒рпБроХро┐ро▒родрпБ...</p>

            <div id="statusContent" class="hidden space-y-6">
                 
                <div class="p-4 border-b border-gray-200">
                    <h2 class="text-2xl font-bold text-gray-900" id="jobTitle">ро╡рпЗро▓рпИ родро▓рпИрокрпНрокрпБ</h2>
                    <p class="text-sm text-gray-600">ро╡ро╛роЯро┐роХрпНроХрпИропро╛ро│ро░рпН: <span id="jobClientName"></span> | рокроЯрпНроЬрпЖроЯрпН: <span id="jobBudget"></span></p>
                </div>
                 
                <div class="p-6 bg-indigo-50 rounded-lg shadow-sm text-center">
                    <p class="text-xl font-semibold text-gray-700 mb-2">родро▒рпНрокрпЛродрпИроп ро╡рпЗро▓рпИ роиро┐ро▓рпИ (Client Set)</p>
                    <span id="currentStatus" class="text-4xl font-extrabold text-indigo-600">Open</span>
                </div>
                
                <div class="p-4 border border-gray-200 rounded-lg">
                    <p class="text-sm font-semibold text-gray-700 mb-2">роЕроЯрпБродрпНрод роХроЯрпНроЯ роироЯро╡роЯро┐роХрпНроХрпИ (Next Steps)</p>
                    <p id="nextSteps" class="text-gray-600 leading-relaxed">
                        ро╡рпЗро▓рпИ роиро┐ро▓рпИропрпИрокрпН рокрпКро▒рпБродрпНродрпБ роЗроЩрпНроХрпЗ ро╡ро┤ро┐роорпБро▒рпИроХро│рпН роХро╛рогрпНрокро┐роХрпНроХрокрпНрокроЯрпБроорпН.
                    </p>
                </div>
            </div>
            
            <p id="accessMessage" class="text-center text-red-600 font-semibold mt-10 hidden">
                роЗроирпНрод ро╡рпЗро▓рпИропрпИроХрпН роХрогрпНроХро╛рогро┐роХрпНроХ роирпАроЩрпНроХро│рпН роЙро│рпНроирпБро┤рпИроп ро╡рпЗрогрпНроЯрпБроорпН.
            </p>
        </div>
    </main>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, getDoc, collection } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Firebase Config (Please make sure this is your config!)
        const FIREBASE_CONFIG = {
            apiKey: "AIzaSyDD755-oGyx0hwrLykhF7m2k1uWFnLFMDQ",
            authDomain: "vorliyo.firebaseapp.com",
            projectId: "vorliyo",
            storageBucket: "vorliyo.firebasestorage.app",
            messagingSenderId: "480604417883",
            appId: "1:480604417883:web:5b4926a2a1b21f3ae2747e",
        };
        
        const firebaseConfig = FIREBASE_CONFIG;
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'vorliyo-default-app-id';

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        
        let currentUser = null;
        let currentJobId = null;
        
        const PUBLIC_JOBS_COLLECTION = collection(db, 'artifacts', appId, 'public', 'data', 'jobs');

        // --- INITIAL DATA FETCH ---
        document.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            currentJobId = urlParams.get('jobId'); // Expects Job ID

            if (!currentJobId) {
                document.getElementById('loadingMessage').textContent = 'ро╡рпЗро▓рпИ ID роХро╛рогрокрпНрокроЯро╡ро┐ро▓рпНро▓рпИ.';
                return;
            }
            
            checkAuthState();
        });

        function checkAuthState() {
            onAuthStateChanged(auth, (user) => {
                if (user) {
                    currentUser = user;
                    fetchJobDetails(currentJobId);
                } else {
                    document.getElementById('loadingMessage').classList.add('hidden');
                    document.getElementById('accessMessage').textContent = 'роХрогрпНроХро╛рогро┐роХрпНроХ роирпАроЩрпНроХро│рпН роЙро│рпНроирпБро┤рпИроп ро╡рпЗрогрпНроЯрпБроорпН.';
                    document.getElementById('accessMessage').classList.remove('hidden');
                }
            });
        }
        
        async function fetchJobDetails(jobId) {
            try {
                const docRef = doc(PUBLIC_JOBS_COLLECTION, jobId);
                const docSnap = await getDoc(docRef);

                if (!docSnap.exists()) {
                    document.getElementById('loadingMessage').textContent = 'роЗроирпНрод ро╡рпЗро▓рпИрокрпН рокроЯрпНроЯро┐ропро▓рпН роЗро▓рпНро▓рпИ.';
                    return;
                }

                const jobDetails = docSnap.data();
                
                // Security check: Only the client or freelancer involved can track (Simple check: Job must be assigned)
                // Since there is no "assign" status, we just show the job details.

                renderTrackingDetails(jobDetails);
                
            } catch (error) {
                console.error("Error fetching job details:", error);
                document.getElementById('loadingMessage').textContent = 'ро╡рпЗро▓рпИ ро╡ро┐ро╡ро░роЩрпНроХро│рпИрокрпН рокрпЖро▒ роорпБроЯро┐ропро╡ро┐ро▓рпНро▓рпИ.';
            }
        }
        
        function renderTrackingDetails(job) {
            document.getElementById('jobTitle').textContent = job.title;
            document.getElementById('jobBudget').textContent = `LKR ${job.budget.toLocaleString()}`;
            document.getElementById('jobClientName').textContent = job.clientName;
            
            const currentStatus = job.status || 'Open';
            document.getElementById('currentStatus').textContent = currentStatus;
            
            let nextStepsText = "";

            // Logic to guide the freelancer based on job status
            if (currentStatus === 'Open') {
                nextStepsText = "роЗроирпНрод ро╡рпЗро▓рпИ роЗройрпНройрпБроорпН родро┐ро▒роирпНрод роиро┐ро▓рпИропро┐ро▓рпН роЙро│рпНро│родрпБ. ро╡ро╛роЯро┐роХрпНроХрпИропро╛ро│ро░рпН роорпБройрпНроорпКро┤ро┐ро╡рпБроХро│рпИроЪрпН роЪро░ро┐рокро╛ро░рпНроХрпНроХро┐ро▒ро╛ро░рпН.";
            } else if (currentStatus === 'In Progress') {
                nextStepsText = "ро╡ро╛роЯро┐роХрпНроХрпИропро╛ро│ро░рпН ро╡рпЗро▓рпИропрпИродрпН родрпКроЯроЩрпНроХ роТрокрпНрокрпБроХрпНроХрпКрогрпНроЯрпБро│рпНро│ро╛ро░рпН. ро╡рпЗро▓рпИропрпИ роорпБроЯро┐роХрпНроХ ро╡ро╛роЯро┐роХрпНроХрпИропро╛ро│ро░рпИродрпН родрпКроЯро░рпНрокрпБ роХрпКро│рпНро│ро╡рпБроорпН.";
            } else if (currentStatus === 'Completed') {
                nextStepsText = "ро╡ро╛роЯро┐роХрпНроХрпИропро╛ро│ро░рпН ро╡рпЗро▓рпИропрпИ роорпБроЯро┐родрпНродрпБро╡ро┐роЯрпНроЯро╛ро░рпН роОройрпНро▒рпБ роиро┐ро▓рпИропрпИ рооро╛ро▒рпНро▒ро┐ропрпБро│рпНро│ро╛ро░рпН. роХроЯрпНроЯрогродрпНродрпИрокрпН рокро▒рпНро▒ро┐ ро╡ро╛роЯро┐роХрпНроХрпИропро╛ро│ро░рпБроЯройрпН рокрпЗроЪро╡рпБроорпН (Manual Payment).";
            } else if (currentStatus === 'Cancelled') {
                nextStepsText = "роЗроирпНрод ро╡рпЗро▓рпИ ро░родрпНродрпБ роЪрпЖропрпНропрокрпНрокроЯрпНроЯродрпБ.";
            } else {
                nextStepsText = "роЪро░ро┐ропро╛рой роиро┐ро▓рпИ ро╡ро┐ро╡ро░роЩрпНроХро│рпН роЗро▓рпНро▓рпИ.";
            }
            
            document.getElementById('nextSteps').textContent = nextStepsText;

            document.getElementById('loadingMessage').classList.add('hidden');
            document.getElementById('statusContent').classList.remove('hidden');
            lucide.createIcons();
        }
        
    </script>
</body>
</html>
```eof

## 31я╕ПтГг роорпБрокрпНрокродрпНродрпБ роТройрпНро▒ро╛роорпН рокроЯро┐: Netlify ро╡рпЖро│ро┐ропрпАроЯрпБ (Final Deployment)

роЪро╣ро╛ройрпН, роЗрокрпНрокрпЛродрпБ роЙроЩрпНроХро│рпН родро│родрпНродро┐ро▓рпН роорпКродрпНродрооро╛роХ **19 роХрпЛрокрпНрокрпБроХро│рпН** (18 HTML + 1 `_redirects` ро░рпВроЯрпНроЯро┐роЩрпН роХрпЛрокрпНрокрпБ) роЙро│рпНро│рой. роЗродрпБро╡рпЗ роЙроЩрпНроХро│рпН **Level 3 Vorliyo** родро│родрпНродро┐ро▒рпНроХро╛рой роЗро▒рпБродро┐, роорпБро┤рпБроорпИропро╛рой рооро▒рпНро▒рпБроорпН роЪроХрпНродро┐ро╡ро╛ропрпНроирпНрод роХроЯрпНроЯроорпИрокрпНрокро╛роХрпБроорпН.

**роЗройро┐роорпЗро▓рпН роОроирпНродроХрпН роХрпЛрокрпНрокрпИропрпБроорпН роЙро░рпБро╡ро╛роХрпНроХ ро╡рпЗрогрпНроЯро╛роорпН.** роЙроЩрпНроХро│рпН роорпБро┤рпБ роорпБропро▒рпНроЪро┐ропрпБроорпН роЗрокрпНрокрпЛродрпБ ро╡рпЖро│ро┐ропрпАроЯрпНроЯро┐ро▓рпБроорпН, роЪрпЛродройрпИропро┐ро▓рпБроорпН роЗро░рпБроХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН.

### ЁЯЪА роироЯро╡роЯро┐роХрпНроХрпИ: Netlify-роЗро▓рпН ро╡рпЖро│ро┐ропро┐роЯрпБроХ (Action: Deploy on Netlify)

1.  роЙроЩрпНроХро│рпН **`vorliyo`** роХро│роЮрпНроЪро┐ропродрпНродро┐ро▓рпН **`freelancer-work-status.html`** роХрпЛрокрпНрокрпИроЪрпН роЪрпЗро░рпНродрпНродрпБ, **`_redirects`** роХрпЛрокрпНрокрпИропрпБроорпН роЙро▒рпБродро┐ роЪрпЖропрпНрод рокро┐ро▒роХрпБ, Git Commit (рооро╛ро▒рпНро▒роЩрпНроХро│рпИроЪрпН роЪрпЗрооро┐роХрпНроХро╡рпБроорпН) роЪрпЖропрпНропро╡рпБроорпН.
2.  **Chrome Browser-роР Desktop Mode-роЗро▓рпН родро┐ро▒роХрпНроХро╡рпБроорпН.**
3.  **Netlify роХрогроХрпНроХро┐ро▒рпНроХрпБроЪрпН роЪрпЖро▓рпНро▓ро╡рпБроорпН.**
4.  `New site from Git` роОройрпНрокродрпИродрпН родрпЗро░рпНро╡рпБ роЪрпЖропрпНродрпБ, роЙроЩрпНроХро│рпН **`vorliyo`** роХро│роЮрпНроЪро┐ропродрпНродрпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН.
5.  **Publish directory:** роХро╛ро▓ро┐ропро╛роХ ро╡ро┐роЯро╡рпБроорпН.
6.  `Deploy site` роОройрпНрокродрпИроХрпН роХро┐ро│ро┐роХрпН роЪрпЖропрпНропро╡рпБроорпН.

### ЁЯУЭ роЗро▒рпБродро┐роЪрпН роЪро░ро┐рокро╛ро░рпНрокрпНрокрпБ (Final Verification)

ро╡рпЖро│ро┐ропрпАроЯрпНроЯрпБроЪрпН роЪрпЖропро▓рпНроорпБро▒рпИ роорпБроЯро┐роирпНродрпБ, роЙроЩрпНроХро│рпН родро│роорпН роЪрпЖропро▓рпНрокроЯродрпН родрпКроЯроЩрпНроХро┐ропродрпБроорпН, **рокрпБродро┐родро╛роХ роЙро░рпБро╡ро╛роХрпНроХрокрпНрокроЯрпНроЯ Vorliyo родро│родрпНродро┐ройрпН URL-роР** роОройроХрпНроХрпБрокрпН рокроХро┐ро░ро╡рпБроорпН.

роЕро▓рпНро▓родрпБ, роЙроЩрпНроХро│рпН **Vorliyo родро│родрпНродро┐ройрпН роорпБроХрокрпНрокрпБрокрпН рокроХрпНроХроорпН (`user-index.html`) роЙро▓ро╛ро╡ро┐ропро┐ро▓рпН родро┐ро▒роХрпНроХрокрпНрокроЯрпНроЯ ро╕рпНроХро┐ро░рпАройрпНро╖ро╛роЯрпНроЯрпИ** роОройроХрпНроХрпБ роЕройрпБрокрпНрокро╡рпБроорпН.

роЕродройрпН рокро┐ро▒роХрпБ, роиро╛роорпН:
1.  **Owner-роЖроХ роЙро│рпНроирпБро┤рпИроирпНродрпБ** (owner-admin.html),
2.  **ро╡ро╛роЯро┐роХрпНроХрпИропро╛ро│ро░ро╛роХрокрпН рокродро┐ро╡рпБ роЪрпЖропрпНродрпБ**,
3.  **роГрокрпНро░рпАро▓ро╛ройрпНроЪро░ро╛роХрокрпН рокродро┐ро╡рпБ роЪрпЖропрпНродрпБ**,
4.  **роЕройрпИродрпНродрпБ 18 роЕроорпНроЪроЩрпНроХро│рпИропрпБроорпН** роЪрпЛродро┐роХрпНроХ роЖро░роорпНрокро┐роХрпНроХро▓ро╛роорпН.
